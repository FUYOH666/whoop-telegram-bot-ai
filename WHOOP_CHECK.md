# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ WHOOP API

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 17 —è–Ω–≤–∞—Ä—è 2025

## ‚úÖ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ WHOOP credentials –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ `.env`
- ‚úÖ Client ID: `b8a2b7ac-7e63-4773-9...` (–Ω–∞—Å—Ç—Ä–æ–µ–Ω)
- ‚úÖ API URL: `https://api.prod.whoop.com/developer/v1`
- ‚úÖ Redirect URI: `https://t.me/RAS_AI_bot?start=whoop_auth`

### –ö–æ–¥
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ OAuth 2.0 flow —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh —Ç–æ–∫–µ–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ rate limits (429) —Å retry –ª–æ–≥–∏–∫–æ–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: Recovery, Sleep, Strain, Workouts
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ S6 —Å–ª–æ—Ç (–æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫ + –ø—Ä–æ–º–ø—Ç LLM)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ 22:00
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä: –æ—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

### Rate Limits
- ‚úÖ **10000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å** ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É–µ–º ~5 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å = 0.05%)
- ‚úÖ **100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É** ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ 429 –æ—à–∏–±–æ–∫ —Å retry –∏ –æ–∂–∏–¥–∞–Ω–∏–µ–º `Retry-After`

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API
**–ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- Recovery: 1 –∑–∞–ø—Ä–æ—Å
- Sleep: 1 –∑–∞–ø—Ä–æ—Å  
- Workouts: 1 –∑–∞–ø—Ä–æ—Å
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤)
- **–ò—Ç–æ–≥–æ: ~3 –∑–∞–ø—Ä–æ—Å–∞ –≤ –¥–µ–Ω—å** (–≤–º–µ—Å—Ç–æ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö 4-5, —Ç–∞–∫ –∫–∞–∫ strain —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ workouts)

**–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:**
- Refresh token: +1 –∑–∞–ø—Ä–æ—Å (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞)

**–û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ~3-4 –∑–∞–ø—Ä–æ—Å–∞ –≤ –¥–µ–Ω—å = 0.03-0.04% –æ—Ç –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞**

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/whoop_connect` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è OAuth URL
2. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ callback `/start whoop_auth` ‚Äî –æ–±–º–µ–Ω code –Ω–∞ —Ç–æ–∫–µ–Ω—ã
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ 22:00
4. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ S6 —Å–ª–æ—Ç–µ
5. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–º–ø—Ç LLM

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞: `uv run python -m ras_bot.main`
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/whoop_connect` –±–æ—Ç—É
3. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ WHOOP —á–µ—Ä–µ–∑ –ø–æ–ª—É—á–µ–Ω–Ω—É—é —Å—Å—ã–ª–∫—É
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ S6 —Å–ª–æ—Ç–µ (–≤ 21:00) –∏–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–≤ 22:00)

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ ‚Äî –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ WHOOP
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ SQLite –ë–î
- –¢–æ–∫–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏
- Rate limits –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å retry –ª–æ–≥–∏–∫–æ–π

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **OAuth callback –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Redirect URL —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –≤ WHOOP –∏ config.yaml
2. **–î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ API
3. **–¢–æ–∫–µ–Ω—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ refresh_token –≤ –ë–î –∏ –ª–æ–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

**–í—ã–≤–æ–¥:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WHOOP –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, rate limits —É—á—Ç–µ–Ω—ã. –ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

